-----
TO DO
-----
-high recoil rounds should incur an AP penalty to target re-acquisition
-multple sizes of icon, can add new sizes in main.spec

Ideal item action handling:

Event handler --> consumable.get_action -> Action -> consumable.activate
      ^        |             |
      |        V             V
      ------------------------

New Model With Queue

-> = calls

Event handler --> consumable.get_action -> action.consume_ap / queue action -> Action.perform -> consumable.activate
      ^        |             |                      |
      |        V             V                      V
      ------------------------            consumable.get_ap_cost

SQUAD MODE

event_handler.handle_events -> event_handler.handle_action -> action.handle_action -> engine.handle_queued_actions
                                                                                          (player end turn)
                                                                                                  |
     ----------------------------------------------------------------------------------------------
     |
     V
for action.handle_action for actions in action.queue -> perform / tick down


input handler: reload (consumables class) -> calls action -> reloads

increase standard reload time to 5 seconds

After that figure out squad movement orders.
- make attack mode a more general squad orders mode
 - attack mode selectable from there
 - press M to give movement order
    - select units by right clicking and then left clicking where you want them to move, square lights up
 - press different key to give squad commands e.g. reload, follow
 - press key to advance time to given order positions

After that trading and other party options - reloading, ammo priority etc. Ammo priority should be a property of the
magazine class itself.

new weapon property - needs_mag_to_fire
ability to single load rounds into guns for emergencies
add armour
armour weight changes dexterity and walk speed
grenades

Extended Goals
-enemy should only run from player when has taken significant damage or is under fire
-ability to fold folding stocks, giving them different properties
-when enemy dies with a gun, should drop the magazine and gun separately. That way can scavenge magazines without
interacting with gun
-calling input handlers from consumable and more generally actually using the consumable class properly
-Blood loss
-Less confusing control scheme
-Name and class select on menu screen
-Better level progression - alternative levels
-Trigger mods
-Attack queue for player in attack mode, VATS style
-Full mouse controls
-Squad members
-unique enemies which spawn once per game
-in the dungeon you find enemies using your looted equipment from previous runs
-more room shapes on level generation
-weapon graphics
-try reducing exe size - use UPX

- instead of using randint, use int(128 * random.random()) - https://eli.thegreenplace.net/2018/slow-and-fast-methods-for-generating-random-integers-in-python/

# this equation is not even slightly realistic, but it works as a gamified stat since actually
# calculating stability would require lots of data I don't have
yaw_depth = max(0, (0.28/projectile config) * (velocity (fps) /2600) * (bullet length (inches) / 2.26) * 12 * randrange(0.3))



-save guns to look at in main menu
-grave yard

1.5 seconds average to draw, aim, shoot - pistol
can pull trigger 4 times per second

pistol base line - Glock 17
rifle base line - M4

equip (pistol - from holster) - 75
equip (rifle - from sling) - 100
acquire target (pistol) - 50
acquire target (rifle) - 30
shoot (pistol and rifle) -

How squad mechanics should work
- new player characters are found at random between stages
- use mouse drag/click to select units
- can also use number keys to select inividual units
- must select units individually to attack
- upon entering combat, a new mode is activated where actions are queued, press another key to confirm all actions at
once and advance one enemy turn. If character turn still in progress (no ap), can't do any moves
- shows current character name and zooms in on them when selected
- select characters, click where to move them to and then hit a button to confirm, move incrementally towards position.
Movement is interupted when they enter combat
- should be a menu from which you can access various squad options including having all player characters reload,
reload magazines and weapons in loadout, heal and trade items between player characters when not in combat
- way to preference ammo type for automatic reloading

recoil reduction
    stock - 45%
    handguard - 15%
    pistol grip - 10%
    additional 5-10% for rifle stocks with integrated pistol grip

ap distance cost modifier
    stock - 0.7
    hand guard - 0.9
    pistol grip -

spread reduction
    stock - 0.86
    handguard - 0.9
    pistol grip -

target acquisition ap
    stock - 0.75
    handguard - 0.8
    pistol grip -

Barrel
barrel_length =
velocity_modifier =
target_acquisition_ap=
equip_time =


Handguard / Forward Grip
spread_modifier =
felt_recoil =
target_acquisition_ap =
ap_distance_cost_modifier =

Sights
zero_range =
spread_modifier =
target_acquisition_ap =
sight_height_above_bore =
ap_distance_cost_modifier =

pistol grip
spread_modifier =
felt_recoil =
target_acquisition_ap =
ap_distance_cost_modifier =

Stock
felt_recoil =
ap_distance_cost_modifier =
spread_modifier =
target_acquisition_ap =

Guns to add

pistols
hi point
tec 9
TT33

carbines
hi point
ruger 22

smgs
PPSH
uzi
fgc 9
Thompson

battle rifles
FAL
SVD
Garand

Shotguns
Baikal side by side
benelli M3
saiga 12

precision
remington 700
Serbu RN50
Serbu BFG 50

FAL
TEC-9
Sten
M1 garand
RPD
Makarov
PPSH
PPK
Vz 58
Uzi
